import{j as e,H as v,l as b,E as w,S as y,r as m,n as S,k as M,e as k,o as C}from"./index-DL8lHTUm.js";import{S as u,m as g}from"./moviesData-D7960KAu.js";function D({movie:s,isFavorite:t,isWatchlist:a,isWatched:i,onFavorite:n,onWatchlist:c,onWatched:r,onShare:o}){return e.jsxs("div",{className:"relative h-[400px] w-full overflow-hidden",children:[e.jsx("img",{src:s.backdrop,alt:s.title,className:"absolute inset-0 w-full h-full object-cover opacity-50"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"}),e.jsxs("div",{className:"relative z-10 container mx-auto px-6 py-16 pt-45",children:[e.jsx("h1",{className:"text-4xl font-bold",children:s.title}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-300",children:[e.jsx("span",{children:s.releaseDate.split("-")[0]}),e.jsxs("span",{children:[s.runtime," min"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(u,{className:"w-4 h-4 text-yellow-400"})," ",s.rating]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:s.genres.map(l=>e.jsx("span",{className:"px-3 py-1 text-xs bg-purple-600/40 border border-purple-500 rounded-full",children:l},l))}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:n,className:"p-3 rounded-full bg-gray-800 hover:bg-gray-700",children:e.jsx(v,{className:`w-5 h-5 ${t?"text-red-500":"text-white"}`})}),e.jsx("button",{onClick:c,className:"p-3 rounded-full bg-gray-800 hover:bg-gray-700",children:e.jsx(b,{className:`w-5 h-5 ${a?"text-yellow-400":"text-white"}`})}),e.jsx("button",{onClick:r,className:"p-3 rounded-full bg-gray-800 hover:bg-gray-700",children:e.jsx(w,{className:`w-5 h-5 ${i?"text-green-400":"text-white"}`})}),e.jsx("button",{onClick:o,className:"p-3 rounded-full bg-gray-800 hover:bg-gray-700",children:e.jsx(y,{className:"w-5 h-5 text-white"})})]})]})]})}function W({cast:s}){return e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6 mb-8",children:s.map(t=>e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-24 h-24 rounded-full mx-auto object-cover"}),e.jsx("p",{className:"mt-2 text-sm font-medium",children:t.name}),e.jsx("p",{className:"text-xs text-gray-400",children:t.character})]},t.id))})}function E({movies:s,loading:t,onNavigate:a}){return t?e.jsx("div",{className:"text-gray-400",children:"Loading similar movies..."}):s.length?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6",children:s.map(i=>e.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition cursor-pointer",onClick:()=>a(`/movies/${i.id}`),children:[e.jsx("img",{src:i.poster,alt:i.title,className:"w-full h-60 object-cover"}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-sm font-semibold truncate",children:i.title}),e.jsxs("div",{className:"flex justify-between items-center mt-1 text-xs text-gray-400",children:[e.jsx("span",{children:i.year}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(u,{className:"w-3 h-3 text-yellow-400"})," ",i.rating]})]})]})]},i.id))}):e.jsx("div",{className:"text-gray-400",children:"No similar movies found."})}function L({movie:s}){return e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:s.poster,alt:s.title,className:"w-full rounded-lg shadow-lg"}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Movie Info"}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Release:"})," ",s.releaseDate]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Runtime:"})," ",s.runtime," min"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Rating:"})," ",s.rating]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Genres:"})," ",s.genres.join(", ")]})]})]})}const F=async s=>g.find(t=>t.id===Number(s)),R=async s=>g.find(a=>a.id===Number(s))?g.filter(a=>a.id!==Number(s)).sort(()=>.5-Math.random()).slice(0,4).map(a=>({id:a.id,title:a.title,year:a.releaseDate.split("-")[0],rating:a.rating,poster:a.poster})):[];function $(s){const[t,a]=m.useState(null),[i,n]=m.useState([]),[c,r]=m.useState(!0),[o,l]=m.useState(!0);return m.useEffect(()=>{const x=async()=>{r(!0);const d=await F(s);a(d),r(!1)},h=async()=>{l(!0);const d=await R(s);n(d),l(!1)};x(),h()},[s]),{movie:t,similarMovies:i,loading:c,loadingSimilar:o}}function H(){const{id:s}=S(),t=M(),{movie:a,similarMovies:i,loading:n,loadingSimilar:c}=$(s),{favorites:r,watchlist:o,watched:l,toggleFavorite:x,toggleWatchlist:h,toggleWatched:d}=k();if(n)return e.jsx("div",{className:"p-10 text-center text-gray-500",children:"Loading..."});if(!a)return e.jsx("div",{className:"p-10 text-center text-red-500",children:"Movie not found"});const j=r.includes(Number(s)),p=o.includes(Number(s)),f=l.includes(Number(s)),N=()=>{navigator.share?navigator.share({title:a.title,url:window.location.href}):navigator.clipboard.writeText(window.location.href)};return e.jsxs("div",{className:"min-h-screen bg-gray-950 text-gray-100",children:[e.jsx(C,{position:"top-right",autoClose:3e3,hideProgressBar:!0,theme:"dark"}),e.jsx(D,{movie:a,isFavorite:j,isWatchlist:p,isWatched:f,onFavorite:()=>x(a.id),onWatchlist:()=>h(a.id),onWatched:()=>d(a.id),onShare:N}),e.jsxs("div",{className:"container mx-auto px-6 py-10 grid grid-cols-1 lg:grid-cols-3 gap-10",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Overview"}),e.jsx("p",{className:"text-gray-300 mb-8",children:a.overview}),e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Cast"}),e.jsx(W,{cast:a.cast}),e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Trailer"}),e.jsx("div",{className:"aspect-video w-full mb-12",children:e.jsx("iframe",{src:a.trailer,title:"Trailer",className:"w-full h-full rounded-lg",allowFullScreen:!0})}),e.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Similar Movies"}),e.jsx(E,{movies:i,loading:c,onNavigate:t})]}),e.jsx(L,{movie:a})]})]})}export{H as default};
