import{c as u,i as p,j as e,m as y,H as w,k,E as M,l as S,r as x,a as g,n as C,g as D,o as L}from"./index-D-pYbCzW.js";import{S as j}from"./star-D6mxcWoG.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],E=u("calendar",W);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],B=u("clock",$);function F({movie:s,isFavorite:t,isWatchlist:a,isWatched:i,onFavorite:c,onWatchlist:o,onWatched:l,onShare:d}){const r=p();return e.jsxs("div",{className:"relative h-[400px] w-full overflow-hidden",children:[e.jsx("img",{src:s.backdrop,alt:s.title,className:"absolute inset-0 w-full h-full object-cover opacity-50"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"}),e.jsx("button",{onClick:()=>r(-1),className:"fixed top-25 left-4 z-50 flex items-center gap-2 bg-black/70 text-white px-3 py-2 rounded-lg hover:bg-black/90 transition border-1 border-white",children:"â† Back"}),e.jsxs(y.div,{className:"relative z-10 container mx-auto px-6 py-16 pt-45 text-white",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:[e.jsx("h1",{className:"text-4xl font-bold mb-3",children:s.title}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-300",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(E,{className:"w-4 h-4"})," ",s.releaseDate.split("-")[0]]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(B,{className:"w-4 h-4"})," ",s.runtime," min"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(j,{className:"w-4 h-4 text-yellow-400"})," ",s.rating]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:s.genres.map(n=>e.jsx("span",{className:"px-3 py-1 text-xs bg-purple-600/40 border border-purple-500 rounded-full",children:n},n))}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:c,className:"p-3 rounded-full bg-gray-800 hover:bg-gray-700",children:e.jsx(w,{className:`w-5 h-5 ${t?"text-red-500":"text-white"}`})}),e.jsx("button",{onClick:o,className:"p-3 rounded-full bg-gray-800 hover:bg-gray-700",children:e.jsx(k,{className:`w-5 h-5 ${a?"text-yellow-400":"text-white"}`})}),e.jsx("button",{onClick:l,className:"p-3 rounded-full bg-gray-800 hover:bg-gray-700",children:e.jsx(M,{className:`w-5 h-5 ${i?"text-green-400":"text-white"}`})}),e.jsx("button",{onClick:d,className:"p-3 rounded-full bg-gray-800 hover:bg-gray-700",children:e.jsx(S,{className:"w-5 h-5 text-white"})})]})]})]})}function I({cast:s}){return e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6 mb-8",children:s.map(t=>e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-24 h-24 rounded-full mx-auto object-cover"}),e.jsx("p",{className:"mt-2 text-sm font-medium",children:t.name}),e.jsx("p",{className:"text-xs text-gray-400",children:t.character})]},t.id))})}function R({movies:s,loading:t,onNavigate:a}){return t?e.jsx("div",{className:"text-gray-400",children:"Loading similar movies..."}):s.length?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6",children:s.map(i=>e.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition cursor-pointer",onClick:()=>a(`/movies/${i.id}`),children:[e.jsx("img",{src:i.poster,alt:i.title,className:"w-full h-60 object-cover"}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-sm font-semibold truncate",children:i.title}),e.jsxs("div",{className:"flex justify-between items-center mt-1 text-xs text-gray-400",children:[e.jsx("span",{children:i.year}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(j,{className:"w-3 h-3 text-yellow-400"})," ",i.rating]})]})]})]},i.id))}):e.jsx("div",{className:"text-gray-400",children:"No similar movies found."})}function _({movie:s}){return e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:s.poster,alt:s.title,className:"w-full rounded-lg shadow-lg"}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Movie Info"}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Release:"})," ",s.releaseDate]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Runtime:"})," ",s.runtime," min"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Rating:"})," ",s.rating]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Genres:"})," ",s.genres.join(", ")]})]})]})}const G=async s=>g.find(t=>t.id===Number(s)),H=async s=>g.find(a=>a.id===Number(s))?g.filter(a=>a.id!==Number(s)).sort(()=>.5-Math.random()).slice(0,4).map(a=>({id:a.id,title:a.title,year:a.releaseDate.split("-")[0],rating:a.rating,poster:a.poster})):[];function P(s){const[t,a]=x.useState(null),[i,c]=x.useState([]),[o,l]=x.useState(!0),[d,r]=x.useState(!0);return x.useEffect(()=>{const n=async()=>{l(!0);const m=await G(s);a(m),l(!1)},h=async()=>{r(!0);const m=await H(s);c(m),r(!1)};n(),h()},[s]),{movie:t,similarMovies:i,loading:o,loadingSimilar:d}}function O(){const{id:s}=C(),t=p(),{movie:a,similarMovies:i,loading:c,loadingSimilar:o}=P(s),{favorites:l,watchlist:d,watched:r,toggleFavorite:n,toggleWatchlist:h,toggleWatched:m}=D();if(c)return e.jsx("div",{className:"p-10 text-center text-gray-500",children:"Loading..."});if(!a)return e.jsx("div",{className:"p-10 text-center text-red-500",children:"Movie not found"});const f=l.includes(Number(s)),N=d.includes(Number(s)),v=r.includes(Number(s)),b=()=>{navigator.share?navigator.share({title:a.title,url:window.location.href}):navigator.clipboard.writeText(window.location.href)};return e.jsxs("div",{className:"min-h-screen bg-gray-950 text-gray-100",children:[e.jsx(L,{position:"top-right",autoClose:3e3,hideProgressBar:!0,theme:"dark"}),e.jsx(F,{movie:a,isFavorite:f,isWatchlist:N,isWatched:v,onFavorite:()=>n(a.id),onWatchlist:()=>h(a.id),onWatched:()=>m(a.id),onShare:b}),e.jsxs("div",{className:"container mx-auto px-6 py-10 grid grid-cols-1 lg:grid-cols-3 gap-10",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Overview"}),e.jsx("p",{className:"text-gray-300 mb-8",children:a.overview}),e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Cast"}),e.jsx(I,{cast:a.cast}),e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Trailer"}),e.jsx("div",{className:"aspect-video w-full mb-12",children:e.jsx("iframe",{src:a.trailer,title:"Trailer",className:"w-full h-full rounded-lg",allowFullScreen:!0})}),e.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Similar Movies"}),e.jsx(R,{movies:i,loading:o,onNavigate:t})]}),e.jsx(_,{movie:a})]})]})}export{O as default};
