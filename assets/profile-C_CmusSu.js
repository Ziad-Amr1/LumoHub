import{c as j,b as V,r as u,j as e,d as A,e as N,B as C,f as W,g as K,L as Y,P as J}from"./index-D-pYbCzW.js";import{c as Q,P as L,u as X,a as E,C as Z,b as ee}from"./card-CzPksYVk.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],te=j("camera",ae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],se=j("image",re);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],oe=j("palette",ne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],le=j("pencil",ie);var k={exports:{}},S={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R;function ce(){if(R)return S;R=1;var a=V();function t(i,d){return i===d&&(i!==0||1/i===1/d)||i!==i&&d!==d}var n=typeof Object.is=="function"?Object.is:t,o=a.useState,c=a.useEffect,s=a.useLayoutEffect,m=a.useDebugValue;function r(i,d){var p=d(),b=o({inst:{value:p,getSnapshot:d}}),h=b[0].inst,y=b[1];return s(function(){h.value=p,h.getSnapshot=d,l(h)&&y({inst:h})},[i,p,d]),c(function(){return l(h)&&y({inst:h}),i(function(){l(h)&&y({inst:h})})},[i]),m(p),p}function l(i){var d=i.getSnapshot;i=i.value;try{var p=d();return!n(i,p)}catch{return!0}}function x(i,d){return d()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x:r;return S.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:v,S}var I;function de(){return I||(I=1,k.exports=ce()),k.exports}var ue=de();function me(){return ue.useSyncExternalStore(fe,()=>!0,()=>!1)}function fe(){return()=>{}}var P="Avatar",[ge]=Q(P),[xe,B]=ge(P),U=u.forwardRef((a,t)=>{const{__scopeAvatar:n,...o}=a,[c,s]=u.useState("idle");return e.jsx(xe,{scope:n,imageLoadingStatus:c,onImageLoadingStatusChange:s,children:e.jsx(L.span,{...o,ref:t})})});U.displayName=P;var $="AvatarImage",F=u.forwardRef((a,t)=>{const{__scopeAvatar:n,src:o,onLoadingStatusChange:c=()=>{},...s}=a,m=B($,n),r=he(o,s),l=X(x=>{c(x),m.onImageLoadingStatusChange(x)});return E(()=>{r!=="idle"&&l(r)},[r,l]),r==="loaded"?e.jsx(L.img,{...s,ref:t,src:o}):null});F.displayName=$;var z="AvatarFallback",M=u.forwardRef((a,t)=>{const{__scopeAvatar:n,delayMs:o,...c}=a,s=B(z,n),[m,r]=u.useState(o===void 0);return u.useEffect(()=>{if(o!==void 0){const l=window.setTimeout(()=>r(!0),o);return()=>window.clearTimeout(l)}},[o]),m&&s.imageLoadingStatus!=="loaded"?e.jsx(L.span,{...c,ref:t}):null});M.displayName=z;function _(a,t){return a?t?(a.src!==t&&(a.src=t),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function he(a,{referrerPolicy:t,crossOrigin:n}){const o=me(),c=u.useRef(null),s=o?(c.current||(c.current=new window.Image),c.current):null,[m,r]=u.useState(()=>_(s,a));return E(()=>{r(_(s,a))},[s,a]),E(()=>{const l=i=>()=>{r(i)};if(!s)return;const x=l("loaded"),v=l("error");return s.addEventListener("load",x),s.addEventListener("error",v),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",x),s.removeEventListener("error",v)}},[s,n,t]),m}var D=U,q=F,G=M;const T=u.forwardRef(({className:a,...t},n)=>e.jsx(D,{ref:n,className:A("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...t}));T.displayName=D.displayName;const H=u.forwardRef(({className:a,...t},n)=>e.jsx(q,{ref:n,className:A("aspect-square h-full w-full",a),...t}));H.displayName=q.displayName;const O=u.forwardRef(({className:a,...t},n)=>e.jsx(G,{ref:n,className:A("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...t}));O.displayName=G.displayName;function pe(){const{profile:a,isEditing:t,handleBackgroundUpload:n,handleBackgroundChange:o,handleAvatarUpload:c,setIsEditing:s}=N(),r={background:a.background?.includes("url")?`${a.background} center/cover no-repeat`:a.background||"linear-gradient(135deg, #6D5BBA, #8E54E9)",height:"240px",borderRadius:"20px",position:"relative",overflow:"hidden",transition:"all 0.3s ease"};return e.jsxs("div",{className:"relative mb-20",children:[e.jsxs("div",{style:r,className:"group",children:[t&&e.jsxs("div",{className:"absolute top-4 right-4 flex gap-3 z-10",children:[e.jsxs("label",{className:"flex items-center gap-1 bg-white/80 hover:bg-white text-sm px-3 py-1 rounded-full cursor-pointer shadow transition",children:[e.jsx(se,{className:"w-4 h-4"}),"Upload Photo",e.jsx("input",{type:"file",accept:"image/*",onChange:n,className:"hidden"})]}),e.jsxs("button",{onClick:()=>o("linear-gradient(135deg, #43CBFF 0%, #9708CC 100%)"),className:"flex items-center gap-1 bg-white/80 hover:bg-white text-sm px-3 py-1 rounded-full shadow transition",children:[e.jsx(oe,{className:"w-4 h-4"}),"Use Gradient"]})]}),e.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[e.jsx(C,{size:"icon",variant:"secondary",onClick:()=>s(!0),className:"rounded-full shadow",children:e.jsx(le,{className:"h-4 w-4"})}),e.jsx(C,{size:"icon",variant:"destructive",className:"rounded-full shadow",onClick:()=>{localStorage.removeItem("user"),localStorage.removeItem("userProfile"),window.location.href="/login"},children:e.jsx(W,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"absolute -bottom-16 left-10 flex items-center gap-5",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs(T,{className:"w-28 h-28 border-4 border-white shadow-lg",children:[e.jsx(H,{src:a.avatar||"https://i.pravatar.cc/150?img=3",alt:"Profile",className:"object-cover w-full h-full"}),e.jsx(O,{children:a.name?.split(" ").map(l=>l[0]).join("")||"U"})]}),t&&e.jsxs("label",{className:"absolute bottom-1 right-1 bg-white/90 p-1.5 rounded-full shadow cursor-pointer hover:scale-110 transition",children:[e.jsx(te,{className:"w-4 h-4 text-gray-700"}),e.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden"})]})]}),e.jsxs("div",{className:"mt-10",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:a.name||"User Name"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a.bio||"Your short bio here..."})]})]})]})}function ve(){const{profile:a}=N();return e.jsxs("div",{className:"max-w-3xl mx-auto mt-20 px-6 text-left",children:[e.jsx("h2",{className:"text-2xl font-bold",children:a.name}),e.jsx("p",{className:"text-muted-foreground",children:a.email}),e.jsx("p",{className:"text-sm mt-1",children:a.job}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.location}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"font-semibold",children:"Bio"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.bio||"No bio yet."})]})]})}function be(){const[a,t]=u.useState("recent"),{recent:n,favorites:o,watchLater:c}=K(),s=[{id:"recent",label:"Recently Watched",data:n},{id:"favorites",label:"Favorites",data:o},{id:"watchLater",label:"Watch Later",data:c}],m=s.find(r=>r.id===a)?.data||[];return e.jsxs("div",{className:"mt-6",children:[e.jsx("div",{className:"flex gap-2 mb-4",children:s.map(r=>e.jsx(C,{onClick:()=>t(r.id),variant:a===r.id?"default":"outline",className:"capitalize",children:r.label},r.id))}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:m.length>0?m.map(r=>e.jsx(Z,{className:"overflow-hidden group",children:e.jsx(Y,{to:`/movie/${r.id}`,children:e.jsxs(ee,{className:"p-0 relative",children:[e.jsx("img",{src:r.poster,alt:r.title,className:"w-full h-64 object-cover group-hover:opacity-80 transition"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 text-white text-center py-2 text-sm font-medium",children:r.title})]})})},r.id)):e.jsx("p",{className:"text-muted-foreground",children:"No movies found."})})]})}function ye(){const{profile:a,formData:t,handleChange:n,handleAvatarUpload:o,handleBackgroundUpload:c,handleSave:s,setIsEditing:m,setFormData:r}=N(),[l,x]=u.useState(t.background||a.background),[v,i]=u.useState(t.avatar||a.avatar),d=["linear-gradient(135deg, #667eea, #764ba2)","linear-gradient(135deg, #ff758c, #ff7eb3)","linear-gradient(135deg, #43cea2, #185a9d)","linear-gradient(135deg, #ff9966, #ff5e62)","linear-gradient(135deg, #00c6ff, #0072ff)"],p=f=>{x(f),r(g=>({...g,background:f}))},b=f=>{const g=f.target.files[0];if(g){const w=URL.createObjectURL(g);x(`url(${w})`),c({target:{files:[g]}})}},h=f=>{const g=f.target.files[0];if(g){const w=URL.createObjectURL(g);i(w),o({target:{files:[g]}})}},y=f=>{f.preventDefault(),s()};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50 px-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-2xl w-full max-w-lg p-6 shadow-xl relative overflow-y-auto max-h-[90vh]",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Edit Profile"}),e.jsx("div",{className:"rounded-xl h-40 mb-6 flex items-center justify-center text-white font-medium text-lg shadow-inner",style:{background:l?.includes("url")?`${l} center/cover no-repeat`:l||"linear-gradient(135deg, #667eea, #764ba2)"},children:"Background Preview"}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("img",{src:v,alt:"Avatar Preview",className:"w-24 h-24 rounded-full object-cover border border-gray-300 shadow"}),e.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"text-sm bg-gray-100 dark:bg-gray-800 px-1 py-1 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),e.jsx("input",{type:"text",name:"name",value:t.name||"",onChange:n,className:"w-full p-2 rounded-md bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bio"}),e.jsx("textarea",{name:"bio",value:t.bio||"",onChange:n,className:"w-full p-2 rounded-md bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 h-24 resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Background"}),e.jsx("div",{className:"flex flex-wrap gap-3 mb-3",children:d.map((f,g)=>e.jsx("div",{className:`w-12 h-12 rounded-lg cursor-pointer border-2 ${l===f?"border-primary":"border-transparent"}`,style:{background:f},onClick:()=>p(f)},g))}),e.jsx("input",{type:"file",accept:"image/*",onChange:b,className:"text-sm bg-gray-100 dark:bg-gray-800 px-1 py-1 rounded-md cursor-pointer"})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 rounded-md bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700 transition",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md bg-dark-primary text-white hover:bg-primary/90 transition",children:"Save"})]})]})]})})}function je(){const{isEditing:a}=N();return e.jsxs("div",{className:"container mx-auto p-6 pt-20 pb-24",children:[e.jsx(pe,{}),e.jsx(ve,{}),e.jsx(be,{}),a&&e.jsx(ye,{})]})}function ke(){return e.jsx(J,{children:e.jsx(je,{})})}export{ke as default};
